<section class="flex justify-between p-6 bg-yellow-300 rounded-lg shadow-md">
    <div class="relative">
        <button 
            onclick="toggleFiltMenu('sort')" 
            class="px-4 py-2 bg-black text-white rounded-md shadow-md hover:bg-gray-900 transition md:text-lg lg:text-2xl">
            Sort By
        </button>
        <div id="dropdown_sort" class="hidden absolute flex-col bg-white rounded-md border shadow-lg mt-2 w-36 opacity-0 transform translate-y-2 transition-all duration-300 ease-in-out z-30">
            <ul class="space-y-4 p-2 md:space-y-6 md:p-4">
                <li><a href="#" onclick="buildQueryParam(null, 'sortBy', '')" class="px-4 py-2 hover:bg-gray-200">None</a></li>
                <li><a href="#" onclick="buildQueryParam(null, 'sortBy', 'ageAsc')" class="px-4 py-2 hover:bg-gray-200">Age Asc</a></li>
                <li><a href="#" onclick="buildQueryParam(null, 'sortBy', 'ageDesc')" class="px-4 py-2 hover:bg-gray-200">Age Desc</a></li>
                <li><a href="#" onclick="buildQueryParam(null, 'sortBy', 'dateAsc')" class="px-4 py-2 hover:bg-gray-200">Date Asc</a></li>
                <li><a href="#" onclick="buildQueryParam(null, 'sortBy', 'dateDesc')" class="px-4 py-2 hover:bg-gray-200">Date Desc</a></li>
            </ul>
        </div>
    </div>

    <div class="relative">
        <button 
            onclick="toggleFiltMenu('itm')" 
            class="px-4 py-2 bg-black text-white rounded-md shadow-md hover:bg-gray-900 transition md:text-lg lg:text-2xl">
            Items
        </button>
        <div id="dropdown_itm" class="hidden absolute flex-col bg-white rounded-md border shadow-lg mt-2 w-36 opacity-0 transform translate-y-2 transition-all duration-300 ease-in-out z-30">
            <ul class="space-y-4 p-2 md:space-y-6 md:p-4">
                <li><a href="#" onclick="buildQueryParam(null, 'itemsPerPage', 5)" class="px-4 py-2 hover:bg-gray-200">5</a></li>
                <li><a href="#" onclick="buildQueryParam(null, 'itemsPerPage', 10)" class="px-4 py-2 hover:bg-gray-200">10</a></li>
                <li><a href="#" onclick="buildQueryParam(null, 'itemsPerPage', 15)" class="px-4 py-2 hover:bg-gray-200">15</a></li>
                <li><a href="#" onclick="buildQueryParam(null, 'itemsPerPage', 20)" class="px-4 py-2 hover:bg-gray-200">20</a></li>
            </ul>
        </div>
    </div>

    <button 
        onclick="translateFilterMenuIn()" 
        class="px-4 py-2 bg-black text-white rounded-md shadow-md hover:bg-gray-900 transition md:text-lg lg:text-2xl">
        Filter
    </button>
</section>

<aside id="filter_menu" class="fixed right-0 top-0 w-[85%] sm:w-[65%] lg:w-[45%] h-full z-30 bg-white shadow-lg opacity-0 translate-x-full transition-all duration-500 ease-in-out overflow-y-auto p-6">
    <h2 class="text-2xl font-bold text-gray-700 mb-6">Filters</h2>

    <form action="" method="get" class="space-y-6" id="filterForm">
        <button 
            type="button" 
            onclick="translateFilterMenuOut()" 
            class="absolute top-4 right-4 text-white bg-black hover:bg-gray-900 rounded-full px-4 py-2 shadow-md">
            Close
        </button>

        <div>
            <label for="locations" class="block text-lg font-medium text-gray-700">Location</label>
            <select name="locations" id="loc" class="w-full px-4 py-2 border rounded-md shadow-sm focus:ring focus:ring-yellow-300">
                <option value="">Select location</option>
                <% locations.forEach(location => { %>
                    <option value="<%=location%>"><%=location%></option>
                <% }) %>
            </select>
        </div>

        <div>
            <label class="block text-lg font-medium text-gray-700">Age</label>
            <div class="space-y-2">
                <div class="flex items-center">
                    <span class="mr-2">Min:</span>
                    <input type="range" name="minAge" id="minAge" min="0" max="20" value="0" class="flex-1" oninput="changeMinAge()">
                    <span id="minValue" class="ml-2">0</span>
                </div>
                <div class="flex items-center">
                    <span class="mr-2">Max:</span>
                    <input type="range" name="maxAge" id="maxAge" min="1" max="20" value="20" class="flex-1" oninput="changeMaxAge()">
                    <span id="maxValue" class="ml-2">20</span>
                </div>
            </div>
        </div>

        <div>
            <label for="species" class="block text-lg font-medium text-gray-700">Species</label>
            <select name="species" id="species" onchange="getBreeds()" class="w-full px-4 py-2 border rounded-md shadow-sm focus:ring focus:ring-yellow-300">
                <option value="">Select species</option>
                <% species.forEach(element => { %>
                    <option value="<%=element%>"><%=element%></option>
                <% }) %>
            </select>
            <label for="breed" class="block text-lg font-medium text-gray-700 mt-4">Breed</label>
            <select name="breed" id="breed" disabled class="w-full px-4 py-2 border rounded-md shadow-sm focus:ring focus:ring-yellow-300"></select>
        </div>

        <div>
            <label for="colours" class="block text-lg font-medium text-gray-700">Colour</label>
            <select name="colours" id="colours" class="w-full px-4 py-2 border rounded-md shadow-sm focus:ring focus:ring-yellow-300">
                <option value="">Select colour</option>
                <% colours.forEach(colour => { %>
                    <option value="<%=colour %>"><%=colour %></option>
                <% }) %>
            </select>
        </div>

        <div>
            <label class="block text-lg font-medium text-gray-700">Features</label>
            <div class="flex flex-wrap gap-3 mt-2">
                <% features.forEach(feature => { %>
                    <div class="flex items-center">
                        <input type="checkbox" name="features" id="<%=feature %>" value="<%=feature %>" class="w-4 h-4">
                        <label for="<%= feature %>" class="ml-2 text-gray-700"><%= feature %></label>
                    </div>
                <% }) %>
            </div>
        </div>

        <button 
            type="submit" 
            class="w-full px-4 py-2 text-black bg-yellow-500 hover:bg-yellow-600 rounded-md shadow-md">
            Apply Filters
        </button>

        <button 
            id="reset-filters-btn"
            class="w-full px-4 py-2 text-black bg-yellow-500 hover:bg-yellow-600 rounded-md shadow-md">
            Reset Filters
        </button>
    </form>
</aside>

<script src="/js/filter.js"></script>
